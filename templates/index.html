{% extends 'base.html' %} 
  
{% block content %}
<h3 class="mt-4 ml-4">Index Page</h3>
<div class="container">
<div class="form-inline" action="" method="">
  <div class="form-group mb-2">
    
    <div class="dropdown">

  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    {{cars.count()}} Make availiable
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
  {% for car in cars %}
    <a class="dropdown-item" href="{{url_for('index', car_make=car.car_make)}}">{{ car.car_make }}</a>
    <input type="hidden" name="car_make" value="{{ car.car_make }}">
    {% endfor %}
  </div>
</div>
  </div>
  <div class="form-group mx-sm-3 mb-2">
    <div class="dropdown">

  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownCarModelMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
   {% if car_models %}
    {{car_models.count()}} Models availiable
    {%else%}
    Select make
    {% endif %}
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    {% for models in car_models %}

    <a class="dropdown-item" href="{{url_for('index', car_make=models.car_make, car_model=models.car_model)}}">{{ models.car_model }}</a>
    
 
    {% endfor %}
  </div>
</div>

  </div>
  {% if total_car_in_make %}
   {% if total_car_in_make.count() > 0 %}
    <form id="carMakeForm" name="carMakeForm" action="{{ url_for('user_car_view') }}" method="POST">
        <input type="hidden" name="car_make" value="{{ car_make }}" placeholder="{{ car_make }}">
        <input type="hidden" name="car_model" value="">
        <button type="submit" name="carMakeForm" class="btn btn-primary mb-2">{{total_car_in_make.count()}} Cars availiable in {{ car_make }}</button>
   </form>
     {% else %}
      <button type="submit"  class="btn btn-primary mb-2">{{total_car_in_make.count()}} Cars availiable in {{ car_make }}</button>
    
      {% endif %}
  {% endif %}
 {% if total_car_in_models  %}
 {% if total_car_in_models.count() > 0 %}
    <form  action="{{ url_for('user_car_view') }}" method="POST">
        <input type="hidden" name="car_model" value="{{ car_model }}">
        <button type="submit"  class="btn btn-primary mb-2">{{ total_car_in_models.count() }} Cars availiable in {{ car_model }}</button>
    </form>
    {% else %}
     <button type="submit" class="btn btn-primary mb-2">{{ total_car_in_models.count() }} Cars availiable in {{ car_model }}</button>
    {% endif %}
     {% endif %}
      {% if all_cars  %}
       <button type="submit" class="btn btn-primary mb-2">{{ all_cars.count() }} Cars availiable</button>
       {% endif %}


</div>

{%endblock%}

