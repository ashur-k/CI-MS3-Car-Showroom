{% extends 'base.html' %}
 {% block head %}Home Page{% endblock %}
 {% block content %}

<section class="slider" >
 <ul class="slides">
    <li>
        <img src="{{url_for('static', filename='img/slider_image_1.jpg')}}"> <!-- random image -->
        <div class="caption left-align">
            <h4 class="sec-slides-headings  hide-on-small-only">CAR SALES SHOWROOM</h4>
          <h2 class="slides-headings">Buy your dream car!</h2>
          
        </div>
    </li>
    <li>
            <img src="{{url_for('static', filename='img/2.jpg')}}"> <!-- random image -->
            <div class="caption left-align">
                <h5 class="sec-slides-headings hide-on-small-only">CAR SALES SHOWROOM.</h5>
                <h4 class="slides-headings">We work with all budgets.</h4>
            </div>
    </li>
    <li>
            <img src="{{url_for('static', filename='img/slider_image3.jpg')}}"> <!-- random image -->
            <div class="caption left-align" style="background:">
            
            <h5 class="sec-slides-headings" style="font-size:32px; font-weight: bold;">CAR SALES SHOWROOM</h5>
            <h4 class="slides-headings">New & second hand cars aviliable.</h4>
            </div>
    </li>
    </ul>
   
</section>

<!--second section-->
<!--Car choose drop down buttons section-->
 <div class="section container">
    <h4>Find car here</h4><hr class="red"  style="margin-bottom:20px; height: 1px;">
        <center class="row">
            <div class="col s12 m4 l4">
                           <!-- Dropdown Trigger -->
                <a class="dropdown-trigger btn custom_btn" href="#" data-target="car_make">
                {{cars.count()}} Car Makes<i class="material-icons right">arrow_drop_down</i>
                </a>
                <!-- Dropdown links -->
                <ul id="car_make" class="dropdown-content">
                {% for car in cars %}
                    <li>
                        <a href="{{url_for('index', car_make=car.car_make)}}">{{ car.car_make }}</a>
                    </li>    
                {% endfor %}
                </ul> 
            </div>
            <div class="col s12 m4 l4">
                 <a class="dropdown-trigger btn custom_btn" href="#" data-target="car_models">
        <!-- If logic to check if models are aviailiable -->
           {% if car_models %}
                {% if car_models.count() < 2 %}
                    {{car_models.count()}} {{car_make}} Model<i class="material-icons right">arrow_drop_down</i>
                {%else%}
                 {{car_models.count()}} {{car_make}} Models<i class="material-icons right">arrow_drop_down</i>
                {%endif%}
        <!-- else only show select make -->
           {%else%}
           Select make
           {% endif %}</a>
        <!-- Populating car models dropbox with results -->
        <ul id="car_models" class="dropdown-content">
        {% for models in car_models %}
            <li>
                <a href="{{url_for('index', car_make=models.car_make, car_model=models.car_model)}}">{{ models.car_make }} {{ models.car_model }}</a>
            </li>
        {% endfor %}
        </ul>
            </div>
            <div class="col s12 m4 l4">
                  <!-- If logic to print correct text on top of button when any of **** car make **** is selected -->
        {% if total_car_in_make %}
        {% if total_car_in_make.count() > 0 %}
            <form id="carMakeForm" name="carMakeForm" action="{{ url_for('user_car_view') }}" method="POST">
                <input type="hidden" name="car_make" value="{{ car_make }}" placeholder="{{ car_make }}"/>
                <input type="hidden" name="car_model" value="" />
                <button type="submit" name="carMakeForm" class="btn custom_btn ">
                <!-- Populating car models drop down here -->
                {{total_car_in_make.count()}} {{ car_make }} Cars<i class="material-icons right">send</i>
                </button>
            </form>
        {% else %}
            <!-- If any car make is selected -->
            <!-- Button text will be cars availiable in that make -->
            <button type="submit" class="btn custom_btn p-2">
            {{total_car_in_make.count()}} {{ car_make }} Car
            </button>
        {% endif %} 
        {% endif %} 

        <!-- If logic to print correct text on top of button when any of **** car Model **** is selected -->
        <!-- Logic starts when dropbox mode lbutton get clicked -->
        {% if total_car_in_models %}
        {% if total_car_in_models.count() > 0 %}
        <form id="car_model_form" action="{{ url_for('user_car_view') }}" method="POST">
            <input type="hidden" name="car_model" value="{{ car_model }}" />
            <!-- Button text will be number of models availilable in make -->
            {% if total_car_in_models.count() == 1 %}
            <button form="car_model_form" type="submit" class="btn purple custom_btn  p-2">
                {{ total_car_in_models.count() }} car {{car_make}} {{ car_model }} <i class="material-icons right">send</i>
             </button>
             {% else %}
             <button form="car_model_form" type="submit" class="btn purple custom_btn  p-2">
                {{ total_car_in_models.count() }}  {{car_make}} {{ car_model }} cars<i class="material-icons right">send</i>
             </button>
             {% endif %}
        </form>
        {% else %}
        <!-- If any car model is selected -->
        <!-- Button text will be cars availiable in that model -->
        <button type="submit" class="btn purple custom_btn  p-2">
        {{ total_car_in_models.count() }} car {{car_make}} {{ car_model }} 
        </button>
        {% endif %} 
        {% endif %} 
        <!-- This if will execute when template gets loaded, car make and car model both aren't choosen yet -->
        {% if all_cars %}
        <button type="submit" class="btn purple custom_btn p-2">
        {{ all_cars.count() }} Cars availiable
        </button>
        {% endif %}
            </div>
        </center>
    </div>


<!--third section-->
<div id="services" class="section section-icons lighten-4">
    <div class="container">
        <div class="row">
         <h4>How it works</h4><hr class="red"  style="margin-bottom:20px; height: 1px;">
            <div class="col s12 m4">
                <div class="card-panel">
                    <img class="" src="{{url_for('static', filename='img/great_val_cars.jpg')}}" style="width:100%;">
                    <h4>Great value cars</h4>
                    <p>Great value cars We own all the cars we list and have thoroughly
                    inspected and reconditioned each one to the highest standards.</p>
                </div>
            </div>
             <div class="col s12 m4">
                <div class="card-panel">
                     <img class="" src="{{url_for('static', filename='img/buy_online.jpg')}}" style="width:100%;">
                    <h4>You can buy it online</h4>
                    <p>You can book a test drive or you can order car online. 
                    You can get money back within 7 day. Book you appiontment today.</p>
                </div>
            </div>
             <div class="col s12 m4">
                <div class="card-panel">
                     <img src="{{url_for('static', filename='img/gifted_car.jpg')}}" style="width:100%;">
                    <h4>Free home delivery</h4><hr class="red"  style="margin-bottom:20px; height: 1px;">
                    <p>You can also have a car home delivery. our sales man can bring car to you  
                    for test drive deprnding on your credit history check.</p>
                </div>
                
            </div>
        </div>
    </div>
</div>
  <!--fourth section-->  
<section id="popular" class="section section-popular scrollspy">
    <div class="container">
        <div class="row">
        <h4>Book a test drive for one of this today.</h4><hr class="red"  style="margin-bottom:20px; height: 1px;">
        {% for collections in random_collections %}
        
            <div class="col s12 m4">
                <div class="card">
                    <div class="card-image">
                          <img class="" src="{{ collections.car_image_url }}" style="width:100%;">
                        <span class="card-title bg-text  red-text"> <h5>{{ collections.car_make }}  {{ collections.car_model }}</h5></span></div>
                        <div class="card-content">
                            <p class=""><strong> {{ collections.engine }}</strong></p>
                            <p class=""><strong>{{ collections.car_price }}</strong></p>
                            <p class=""><strong>{{ collections.registration_year }}</strong></p>
                          
                        </div>
                        <div class="card-action">
                         <form action="{{url_for('book_test_drive', car_id=collections._id)}}" method="POST" id="{{collections._id}}" name="{{collections._id}}">
                            <input type="hidden"  name="car_make" value="{{collections.car_make}}">
                            <input type="hidden"  name="car_model" value="{{collections.car_model}}">
                            <input type="hidden" name="reg_num" value="{{collections.reg_num}}">
                            <input type="hidden"  name="registration_year" value="{{collections.registration_year}}">
                            <input type="hidden"  name="car_image_url" value="{{collections.car_image_url}}">
                        
                            
                         </form>
                            <button class="waves-effect waves-light btn custom_btn" form="{{collections._id}}" type="submit">
                            <i class="material-icons right">airline_seat_recline_normal</i>Book test drive</button>
                            <a href="{{url_for('user_view_car_specs', car_id=collections._id )}}" class="waves-effect waves-light btn custom_btn">
                            <i class="material-icons right">chrome_reader_mode</i>View specs</a>
                        </div>
                    </div>
                </div>
           
            {% endfor %}
            </div>
        </div>
 
</section>

 <!--fifth section--> 
 <section id="find-me" class="section section-follow web_theme white-text">
 <div class="container">
 <div class="row">
 <dic class="col s12">
 <h4>Follow car sales showroom</h4><hr class="white"  style="margin-bottom:20px; height: 1px;">
 <p>Follow us on social media for special offers</p>
    <a href="" class="white-text"><i class="fab fa-facebook fa-4x"></i></a>
    <a href="" class="white-text"><i class="fab fa-twitter fa-4x"></i></a>
    <a href="" class="white-text"><i class="fab fa-linkedin fa-4x"></i></a>
    <a href="" class="white-text"><i class="fab fa-google-plus fa-4x"></i></a>
    <a href="" class="white-text"><i class="fab fa-pinterest fa-4x"></i></a>
 </dic>
 </div>
 </div>
 </section>

 <!--sixth section-->
 <section id="gallery" class="section-gallery scrollspy">
    <div class="container">
        <h4 class="">Our cars photo gallery</h4><hr class="red"  style="margin-bottom:20px; height: 1px;">
            <div class="row image-gallery">
                <div class="col s12 m3">
                    <img src="{{url_for('static', filename='img/01.jpg')}}" alt="" class="materialboxed responsive-img">
                </div>
                <div class="col s12 m3">
                    <img src="{{url_for('static', filename='img/02.jpg')}}" alt="" class="materialboxed responsive-img">
                </div>
                <div class="col s12 m3">
                    <img src="{{url_for('static', filename='img/04.jpg')}}" alt="" class="materialboxed responsive-img">
                </div>
                <div class="col s12 m3">
                    <img src="{{url_for('static', filename='img/03.jpg')}}" alt="" class="materialboxed responsive-img">
                </div>
            </div>
 <div class="row image-gallery">
 <div class="col s12 m3">
 <img src="{{url_for('static', filename='img/05.jpg')}}" alt="" class="materialboxed responsive-img">
 </div>
 <div class="col s12 m3">
 <img src="{{url_for('static', filename='img/06.jpg')}}" alt="" class="materialboxed responsive-img">
 </div>
 <div class="col s12 m3">
 <img src="{{url_for('static', filename='img/07.jpg')}}" alt="" class="materialboxed responsive-img">
 </div>
 <div class="col s12 m3">
 <img src="{{url_for('static', filename='img/08.jpg')}}" alt="" class="materialboxed responsive-img">
 </div>
 </div>
 <div class="row image-gallery">
 <div class="col s12 m3">
 <img src="{{url_for('static', filename='img/09.jpg')}}" alt="" class="materialboxed responsive-img">
 </div>
 <div class="col s12 m3">
 <img src="{{url_for('static', filename='img/10.jpg')}}" alt="" class="materialboxed responsive-img">
 </div>
 <div class="col s12 m3">
 <img src="{{url_for('static', filename='img/11.jpg')}}" alt="" class="materialboxed responsive-img">
 </div>
 <div class="col s12 m3">
 <img src="{{url_for('static', filename='img/12.jpg')}}" alt="" class="materialboxed responsive-img">
 </div>
 </div>
 </div>
  </section> 

    <!--seventh section-->   
    <section id="contact" class="section section-contact scrollspy">
        <div class="container">
        <div class="row">
        <div class="col s12 m6">
        <div class="card-panel web_theme white-text center">
            <i class="material-icons">email</i>
            <h5>Contact me for more inforamtion</h5>
            <p>I am a student programmer and developed this project
						as part of a student project submission. If you have any suggestions to improve this project or for us to collaborate
                        on another project please don't hesitate to contact me.</p>
            <ul class="collection with-header">
                <li class="collection-header">
                <h4 class="black-text">Location</h4>
                </li>
                 <li class="collection-item black-text">
                Car sales showroom
                </li>
                 <li class="collection-item black-text">
                Falkirk Scotland
                </li>
                 <li class="collection-item black-text">
                FKY566
                </li>
            </ul>
        </div>
        </div>
          <div class="col s12 m6">
          <div class="card-panel grey lighten-3">
          <h5>Please fill out this form</h5>
          <div class="input-field">
            <input type="text" placeholder="Name">           
          </div>
            <div class="input-field">
            <input type="email" placeholder="Email">           
          </div>
          
            <div class="input-field">
            <input type="number" placeholder="Phone number">           
          </div>
            <div class="input-field">
            <textarea class="materialize-textarea" type="text" placeholder="Name"></textarea>     
          </div>
          <input type="submit" value="Submit" class="btn custom_btn">
          </div>
          </div>
        </div>
      </div>
    
    </section>
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
<script>

document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.dropdown-trigger');
    var options = { coverTrigger: false  }
    var instances = M.Dropdown.init(elems, options);
  });
  document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.parallax');
    var options = {  };
    var instances = M.Parallax.init(elems, options);
  });
</script>
{%endblock%}

